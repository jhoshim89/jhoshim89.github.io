<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>만영이 스케줄표</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f3f4f6;
            color: #374151;
        }
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 1rem;
            background-color: #fff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
            text-align: center;
        }
        .day-header, .day-cell {
            padding: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 700;
        }
        .day-header {
            background-color: #e5e7eb;
        }
        .day-cell {
            font-weight: 400;
        }
        .주 { background-color: #d1e7dd; color: #0f5132; }
        .야 { background-color: #f8d7da; color: #58151c; }
        .비 { background-color: #f2f2f2; color: #495057; }
        .today {
            box-shadow: 0 0 0 3px #3b82f6 inset;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">만영이 스케줄표</h1>
        
        <div class="flex justify-center items-center mb-6">
            <label for="month-select" class="mr-2 font-bold text-gray-700">월 선택:</label>
            <select id="month-select" class="p-2 border border-gray-300 rounded-md">
                <option value="9">2025년 9월</option>
                <option value="10">2025년 10월</option>
                <option value="11">2025년 11월</option>
                <option value="12">2025년 12월</option>
                <option value="13">2026년 1월</option>
                <option value="14">2026년 2월</option>
                <option value="15">2026년 3월</option>
                <option value="16">2026년 4월</option>
                <option value="17">2026년 5월</option>
                <option value="18">2026년 6월</option>
                <option value="19">2026년 7월</option>
                <option value="20">2026년 8월</option>
                <option value="21">2026년 9월</option>
            </select>
        </div>

        <div id="scheduleContainer" class="space-y-8"></div>

    </div>

    <script>
        // 만영이의 스케줄 패턴: 주주야야비비
        const schedulePattern = ['주', '주', '야', '야', '비', '비'];
        
        // 기준일 설정: 2025년 7월 11일 금요일은 '야'
        const baseDate = new Date('2025-07-11T00:00:00');
        const baseScheduleIndex = 3; // '야'는 패턴의 3번째 인덱스

        // 스케줄 계산 함수
        function getScheduleForDate(date) {
            const diffTime = date.getTime() - baseDate.getTime();
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            const scheduleIndex = (baseScheduleIndex + diffDays) % schedulePattern.length;
            return schedulePattern[scheduleIndex < 0 ? scheduleIndex + schedulePattern.length : scheduleIndex];
        }

        // 월별 스케줄 생성 함수
        function generateMonthlySchedule(year, month) {
            const container = document.getElementById('scheduleContainer');
            container.innerHTML = ''; // 기존 내용 지우기
            
            // year와 month 값 재계산 (2025년 9월부터 2026년 9월까지)
            let displayYear = year;
            let displayMonth = month;
            if (month > 12) {
                displayYear = 2026;
                displayMonth = month - 12;
            }

            const monthName = `${displayYear}년 ${displayMonth}월`;
            const monthDiv = document.createElement('div');
            monthDiv.className = 'month-container';
            monthDiv.innerHTML = `<h2 class="text-xl font-bold text-center mb-4 text-gray-700">${monthName}</h2>`;

            const grid = document.createElement('div');
            grid.className = 'schedule-grid';

            // 요일 헤더
            const daysOfWeek = ['일', '월', '화', '수', '목', '금', '토'];
            daysOfWeek.forEach(day => {
                const header = document.createElement('div');
                header.className = 'day-header';
                header.textContent = day;
                if (day === '일' || day === '토') {
                    header.classList.add('text-red-500');
                }
                grid.appendChild(header);
            });

            // 빈칸 채우기 (해당 월의 첫날이 시작하는 요일)
            const firstDayOfMonth = new Date(displayYear, displayMonth - 1, 1);
            const startingDay = firstDayOfMonth.getDay();
            for (let i = 0; i < startingDay; i++) {
                grid.appendChild(document.createElement('div'));
            }

            // 날짜 및 스케줄 채우기
            const lastDay = new Date(displayYear, displayMonth, 0).getDate();
            const today = new Date();

            for (let day = 1; day <= lastDay; day++) {
                const date = new Date(displayYear, displayMonth - 1, day);
                const schedule = getScheduleForDate(date);
                const cell = document.createElement('div');
                cell.className = `day-cell p-2 ${schedule}`;
                cell.innerHTML = `<div>${day}</div><div class="text-xs mt-1 font-bold">${schedule}</div>`;
                
                // 오늘 날짜 표시
                if (date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear()) {
                    cell.classList.add('today');
                }
                grid.appendChild(cell);
            }

            monthDiv.appendChild(grid);
            container.appendChild(monthDiv);
        }

        // 월 선택 드롭다운 이벤트 리스너
        const monthSelect = document.getElementById('month-select');
        monthSelect.addEventListener('change', (event) => {
            const selectedMonth = parseInt(event.target.value, 10);
            const year = 2025; // 2025년 7월 11일 기준이므로
            generateMonthlySchedule(year, selectedMonth);
        });

        // 초기 스케줄 생성 (기본값 9월)
        generateMonthlySchedule(2025, parseInt(monthSelect.value, 10));
    </script>
</body>
</html>
